<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>All Registrations</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
</head>
<body>

<%- include('partials/navbar') %>

<div class="container mt-4">
  <h2 class="mb-4">All Registered Users</h2>

  <% if (users.length === 0) { %>
    <p>No registrations found.</p>
  <% } else { %>
    <table class="table table-bordered table-striped">
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Email</th>
          <th>Registered On</th>
        </tr>
      </thead>
      <tbody>
        <% users.forEach((user, index) => { %>
          <tr>
            <td><%= index + 1 %></td>
            <td><%= user.name || "N/A" %></td>
            <td><%= user.email %></td>
            <td>
              <%= user.createdAt
                  ? user.createdAt.toDateString()
                  : "N/A" %>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>

  <a href="/admin/dashboard" class="btn btn-secondary mt-3">
    Back to Dashboard
  </a>
</div>

<script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>
</body>
</html>
